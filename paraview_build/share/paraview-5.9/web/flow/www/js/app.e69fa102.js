(function(t){function e(e){for(var r,o,c=e[0],s=e[1],l=e[2],f=0,_=[];f<c.length;f++)o=c[f],i[o]&&_.push(i[o][0]),i[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);u&&u(e);while(_.length)_.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,c=1;c<n.length;c++){var s=n[c];0!==i[s]&&(r=!1)}r&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},i={app:0},a=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=s;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"06f2":function(t,e,n){"use strict";var r=n("2dcf"),i=n.n(r);e["default"]=i.a},"0b43":function(t,e,n){t.exports={logo:"style_logo_1Iyxb",progress:"style_progress_2b9Go",thinBorder:"style_thinBorder_2-R3J",noSelect:"style_noSelect_1DTtt",drawerButton:"style_drawerButton_1qoWH",spread:"style_spread_2UJFx",viewToolbar:"style_viewToolbar_fhJr4"}},1:function(t,e){},"2dcf":function(t,e,n){},"493e":function(t,e,n){"use strict";var r=n("7e0c"),i=n.n(r);e["default"]=i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d"),n("130f");var r=n("2b0e"),i=n("2f62"),a=n("ce5b"),o=n.n(a),c={state:{count:0},getters:{BUSY_COUNT:function(t){return t.count}},mutations:{BUSY_COUNT_SET:function(t,e){t.count=e}}};n("c5f6"),n("7f7f");function s(t){var e=0,n=null;function r(i,a){if(e++,n=a,1===e)return i(t,n).then((function(){if(e--,e)return e=0,r(i,n)})).catch((function(){e=0}))}return r}var l=s("PVW_TIME_UPDATE"),u=s("PVW_EXTRACT_SLICE"),f=s("PVW_UPDATE_WATER_TABLE_SCALING"),_={state:{playing:!1,subsurface:{},surface:{},time:0,times:[0,1],voi:[0,1,0,1,0,1],sliceIdx:0,colorModes:[{text:"Never",value:-1},{text:"Grow and update on 'Apply'",value:0},{text:"Grow and update every timestep",value:1},{text:"Update on 'Apply'",value:2},{text:"Clamp and update every timestep",value:3}],colorModeSurface:-1,colorModeSubSurface:-1,waterTableDepthScaling:500,waterBalance:null},getters:{FLOW_PLAYING:function(t){return t.playing},FLOW_SURFACE:function(t){return t.surface},FLOW_SUBSURFACE:function(t){return t.subsurface},FLOW_TIME:function(t){return t.time},FLOW_TIMES:function(t){return t.times},FLOW_TIME_FIRST:function(t){return t.times[0]},FLOW_TIME_LAST:function(t){return t.times[t.times.length-1]},FLOW_VOI:function(t){return t.voi},FLOW_SLICE_IDX:function(t){return t.sliceIdx},FLOW_COLOR_MODES:function(t){return t.colorModes},FLOW_COLOR_MODE_SURFACE:function(t){return t.colorModeSurface},FLOW_COLOR_MODE_SUBSURFACE:function(t){return t.colorModeSubSurface},FLOW_WATER_TABLE_SCALING:function(t){return t.waterTableDepthScaling},FLOW_WATER_BALANCE:function(t){return t.waterBalance}},mutations:{FLOW_PLAYING_SET:function(t,e){t.playing=e},FLOW_SURFACE_SET:function(t,e){t.surface=e},FLOW_SUBSURFACE_SET:function(t,e){t.subsurface=e},FLOW_TIME_SET:function(t,e){t.time=e},FLOW_TIMES_SET:function(t,e){t.times=e},FLOW_VOI_SET:function(t,e){t.voi=e},FLOW_SLICE_IDX_SET:function(t,e){t.sliceIdx=e},FLOW_COLOR_MODES_SET:function(t,e){t.colorModes=e},FLOW_COLOR_MODE_SURFACE_SET:function(t,e){t.colorModeSurface=e},FLOW_COLOR_MODE_SUBSURFACE_SET:function(t,e){t.colorModeSubSurface=e},FLOW_WATER_TABLE_SCALING_SET:function(t,e){t.waterTableDepthScaling=e},FLOW_WATER_BALANCE_SET:function(t,e){t.waterBalance=e}},actions:{FLOW_INITIALIZE:function(t){var e=t.dispatch,n=t.commit;e("PVW_STATE").then((function(t){n("FLOW_SURFACE_SET",t.surface),n("FLOW_SUBSURFACE_SET",t.subsurface),n("FLOW_TIME_SET",t.time),n("FLOW_TIMES_SET",t.times),n("FLOW_VOI_SET",t.voi),n("FLOW_SLICE_IDX_SET",t.voi[5]-1)}))},FLOW_UPDATE_COLOR:function(t,e){var n=t.dispatch,r=t.state,i=e.name,a=e.field,o=r[i].representation;n("PVW_COLOR_BY",{id:o,field:a}).then((function(t){r[i].field=t}))},FLOW_UPDATE_TIME:function(t,e){var n=t.commit,r=t.dispatch;n("FLOW_TIME_SET",Number(e)),l(r,Number(e))},FLOW_UPDATE_SLICE:function(t,e){var n=t.commit,r=t.dispatch;n("FLOW_SLICE_IDX_SET",e),u(r,e)},FLOW_TIME_NEXT:function(t){var e=t.getters,n=t.commit,r=t.dispatch,i=e.FLOW_TIME,a=e.FLOW_TIME_LAST;i<a&&(n("FLOW_TIME_SET",i+1),l(r,i+1))},FLOW_TIME_PREVIOUS:function(t){var e=t.getters,n=t.commit,r=t.dispatch,i=e.FLOW_TIME,a=e.FLOW_TIME_FIRST;i>a&&(n("FLOW_TIME_SET",i-1),l(r,i-1))},FLOW_LAYER_UP:function(t){var e=t.getters,n=t.commit,r=t.dispatch,i=e.FLOW_SLICE_IDX,a=e.FLOW_VOI[5]-1;i<a&&(n("FLOW_SLICE_IDX_SET",i+1),u(r,i+1))},FLOW_LAYER_DOWN:function(t){var e=t.getters,n=t.commit,r=t.dispatch,i=e.FLOW_SLICE_IDX,a=e.FLOW_VOI[4];i>a&&(n("FLOW_SLICE_IDX_SET",i-1),u(r,i-1))},FLOW_UPDATE_RESCALE_MODE:function(t){var e=t.getters,n=t.dispatch;n("PVW_UPDATE_RESCALE_MODE",{surface:e.FLOW_SURFACE_RESCALE_MODE,subSurface:e.FLOW_SUBSURFACE_RESCALE_MODE})},FLOW_UPDATE_COLOR_MODE:function(t,e){var n=t.dispatch,r=e.name,i=e.value;n("PVW_UPDATE_COLOR_MODE",{name:r,value:i})},FLOW_RESCALE_COLOR:function(t,e){var n=t.dispatch;n("PVW_RESCALE_COLOR",e)},FLOW_UPDATE_WATER_TABLE_SCALING:function(t,e){var n=t.commit,r=t.dispatch;n("FLOW_WATER_TABLE_SCALING_SET",e),f(r,e)},FLOW_UPDATE_TIME_ANIMATION:function(t,e){var n=t.commit,r=t.dispatch;n("FLOW_PLAYING_SET",e),r("PVW_UPDATE_TIME_ANIMATION",e)},FLOW_FETCH_WATER_BALANCE:function(t){var e=t.state,n=t.commit,r=t.dispatch;e.waterBalance||r("PVW_WATER_BALANCE").then((function(t){n("FLOW_WATER_BALANCE_SET",t)}))}}},v={state:{alt:!1,shift:!1,ctrl:!1},getters:{KEY_ALT:function(t){return t.alt},KEY_SHIFT:function(t){return t.shift},KEY_CTRL:function(t){return t.ctrl}},mutations:{KEY_ALT_SET:function(t,e){t.alt=e},KEY_SHIFT_SET:function(t,e){t.shift=e},KEY_CTRL_SET:function(t,e){t.ctrl=e}},actions:{KEY_ALT_ON:function(t){var e=t.commit;e("KEY_ALT_SET",!0)},KEY_ALT_OFF:function(t){var e=t.commit;e("KEY_ALT_SET",!1)},KEY_SHIFT_ON:function(t){var e=t.commit;e("KEY_SHIFT_SET",!0)},KEY_SHIFT_OFF:function(t){var e=t.commit;e("KEY_SHIFT_SET",!1)},KEY_CTRL_ON:function(t){var e=t.commit;e("KEY_CTRL_SET",!0)},KEY_CTRL_OFF:function(t){var e=t.commit;e("KEY_CTRL_SET",!1)}}},d=n("520e"),p=n("f91f");function h(t){return{getState:function(){return t.call("pv.flow.state.get",[])},resetCamera:function(e){return t.call("flow.reset.camera",[e])},colorBy:function(e,n){return t.call("flow.color.by",[e,n])},updateTime:function(e){return t.call("flow.time.update",[e])},sliceSubSurface:function(e){return t.call("flow.subsurface.slice.update",[e])},updateColorMode:function(e,n){return t.call("flow.color.mode.update",[e,n])},rescaleColor:function(e){return t.call("flow.color.rescale",[e])},showWaterTableDepth:function(e){return t.call("flow.water.table.show",[e])},updateWaterTableDepthScaling:function(e){return t.call("flow.water.table.scale",[Number(e)])},updateTimeAnimation:function(e){return t.call("flow.time.animation.set",[e])},getGlobalTimeWaterBalance:function(){return t.call("flow.water.balance.get",[])},onAnimationState:function(e){return t.subscribe("flow.animation.state",e)}}}d["a"].setSmartConnectClass(p["a"]);var O={state:{client:null,config:null},getters:{NETWORK_CLIENT:function(t){return t.client},NETWORK_CONFIG:function(t){return t.config}},mutations:{NETWORK_CLIENT_SET:function(t,e){t.client=e},NETWORK_CONFIG_SET:function(t,e){t.config=e}},actions:{NETWORK_CONNECT:function(t){var e=t.commit,n=t.dispatch,r=t.state,i=r.config,a=r.client;a&&a.isConnected()&&a.disconnect();var o=a;o||(o=d["a"].newInstance(),o.setProtocols({Flow:h})),o.onBusyChange((function(t){e("BUSY_COUNT_SET",t)})),o.beginBusy(),o.onConnectionError((function(t){var e=t&&t.response&&t.response.error||"Connection error";console.error(e),console.log(t)})),o.onConnectionClose((function(t){var e=t&&t.response&&t.response.error||"Connection close";console.error(e),console.log(t)})),o.connect(i).then((function(t){n("PVW_SETUP",t.getRemote()),e("NETWORK_CLIENT_SET",t),o.endBusy()})).catch((function(t){console.error(t)}))}}},E=n("768b"),m={state:{client:null},getters:{PVW_CLIENT:function(t){return t.client}},mutations:{PVW_CLIENT_SET:function(t,e){t.client=e}},actions:{PVW_SETUP:function(t,e){var n=t.commit;n("PVW_CLIENT_SET",e),e.Flow.onAnimationState((function(t){var e=Object(E["a"])(t,1),r=e[0];r.playing||n("FLOW_PLAYING_SET",r.playing),n("FLOW_TIME_SET",r.time)}))},PVW_STATE:function(t){var e=t.state;return e.client.Flow.getState()},PVW_RESET_CAMERA:function(t){var e=t.state,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return e.client.Flow.resetCamera(n)},PVW_COLOR_BY:function(t,e){var n=t.state,r=e.id,i=e.field;return n.client.Flow.colorBy(r,i)},PVW_TIME_UPDATE:function(t,e){var n=t.state;return n.client.Flow.updateTime(e)},PVW_EXTRACT_SLICE:function(t,e){var n=t.state;return n.client.Flow.sliceSubSurface(e)},PVW_RESCALE_COLOR:function(t,e){var n=t.state;return n.client.Flow.rescaleColor(e)},PVW_UPDATE_COLOR_MODE:function(t,e){var n=t.state,r=e.name,i=e.value;return n.client.Flow.updateColorMode(r,i)},PVW_SHOW_WATER_TABLE_DEPTH:function(t,e){var n=t.state;return n.client.Flow.showWaterTableDepth(e)},PVW_UPDATE_WATER_TABLE_SCALING:function(t,e){var n=t.state;return n.client.Flow.updateWaterTableDepthScaling(e)},PVW_UPDATE_TIME_ANIMATION:function(t,e){var n=t.state;return n.client.Flow.updateTimeAnimation(e)},PVW_WATER_BALANCE:function(t){var e=t.state;return e.client.Flow.getGlobalTimeWaterBalance()}}},b={state:{drawer:!1,viewAvailable:["surface"]},getters:{UI_DRAWER:function(t){return t.drawer},UI_VIEW_AVAILABLE:function(t){return t.viewAvailable}},mutations:{UI_DRAWER_SET:function(t,e){t.drawer=e},UI_VIEW_AVAILABLE_SET:function(t,e){t.viewAvailable=e}},actions:{UI_TOGGLE_DRAWER_VISIBILITY:function(t){var e=t.state,n=t.commit;n("UI_DRAWER_SET",!e.drawer)}}};function T(){return new i["a"].Store({modules:{busy:c,flow:_,keys:v,network:O,pvw:m,ui:b}})}var S=T,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("flow-toolbar"),n("flow-content")],1)},w=[],L=(n("8e6e"),n("456d"),n("ac6a"),n("bd86")),g=n("8a60"),C=n.n(g),W=n("7c2c"),A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-toolbar",{attrs:{"clipped-left":"",app:""}},[n("img",{class:t.$style.logo,attrs:{src:t.logo}}),n("v-spacer"),n("v-progress-linear",{class:t.$style.progress,attrs:{indeterminate:"",active:!!t.busyCount,height:"3"}}),t.waterTableDepth?n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-layout",t._g({staticStyle:{"max-width":"180px"},attrs:{"align-center":""}},r),[n("v-icon",{staticClass:"mx-1"},[t._v(t._s(t.$vuetify.icons.scaling))]),n("v-text-field",{staticClass:"text-xs-center mr-2",attrs:{label:"Water table scaling",type:"number",min:20,max:2e3,step:"1",value:t.waterTableDepthScaling,"hide-details":""},on:{input:t.updateWaterTableDepthScaling}}),n("v-divider",{staticClass:"mx-2",attrs:{vertical:""}})],1)]}}],null,!1,1529851852)},[n("span",[t._v("Adjust Water table depth scaling")])]):t._e(),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-layout",t._g({staticStyle:{"max-width":"300px"},attrs:{"align-center":""}},r),[n("v-icon",{staticClass:"mx-1"},[t._v(t._s(t.$vuetify.icons.time))]),n("v-btn",{attrs:{icon:""},on:{click:t.togglePlay}},[t.lastFrame?n("v-icon",[t._v(t._s(t.$vuetify.icons.first))]):t._e(),t.lastFrame?t._e():n("v-icon",[t._v(t._s(t.playing?t.$vuetify.icons.pause:t.$vuetify.icons.play))])],1),n("v-slider",{staticClass:"mx-2",attrs:{value:t.time,min:t.timeMin,max:t.timeMax,step:"1","hide-details":""},on:{input:t.updateTime}}),n("v-text-field",{staticClass:"text-xs-center ml-4 mr-1",attrs:{type:"number",min:t.timeMin,max:t.timeMax,step:"1",value:t.time,"hide-details":""},on:{input:t.updateTime}})],1)]}}])},[n("span",[t._v("Timestep")])]),n("v-btn-toggle",{staticClass:"ml-3",class:t.$style.thinBorder,attrs:{value:t.viewAvailable,mandatory:"",multiple:""},on:{change:t.updateViewAvailable}},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({attrs:{flat:"",value:"surface"}},r),[n("v-icon",[t._v(t._s(t.$vuetify.icons.surface))])],1)]}}])},[n("span",[t._v("Surface")])]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({attrs:{flat:"",value:"sub-surface"}},r),[n("v-icon",[t._v(t._s(t.$vuetify.icons.subSurface))])],1)]}}])},[n("span",[t._v("Sub-Surface")])]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({attrs:{flat:"",value:"water-table-depth"}},r),[n("v-icon",[t._v(t._s(t.$vuetify.icons.waterTable))])],1)]}}])},[n("span",[t._v("Water table depth")])]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({attrs:{flat:"",value:"water-balance"}},r),[n("v-icon",[t._v(t._s(t.$vuetify.icons.waterBalance))])],1)]}}])},[n("span",[t._v("Water balance")])])],1)],1)},F=[],I=n("cb6f"),R=n.n(I);function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(n,!0).forEach((function(e){Object(L["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var M={name:"Toolbar",data:function(){return{logo:R.a}},computed:D({},Object(i["c"])({busyCount:"BUSY_COUNT",networkConfig:"NETWORK_CONFIG",viewAvailable:"UI_VIEW_AVAILABLE",time:"FLOW_TIME",timeMin:"FLOW_TIME_FIRST",timeMax:"FLOW_TIME_LAST",waterTableDepthScaling:"FLOW_WATER_TABLE_SCALING",playing:"FLOW_PLAYING"}),{waterTableDepth:function(){return~this.viewAvailable.indexOf("water-table-depth")},showWaterBalance:function(){return~this.viewAvailable.indexOf("water-balance")},lastFrame:function(){return this.time===this.timeMax}}),watch:{waterTableDepth:function(t){this.$store.dispatch("PVW_SHOW_WATER_TABLE_DEPTH",t)},showWaterBalance:function(t){t&&this.$store.dispatch("FLOW_FETCH_WATER_BALANCE")}},methods:D({},Object(i["d"])({updateViewAvailable:"UI_VIEW_AVAILABLE_SET"}),{},Object(i["b"])({updateTime:"FLOW_UPDATE_TIME",updateWaterTableDepthScaling:"FLOW_UPDATE_WATER_TABLE_SCALING",updatePlaying:"FLOW_UPDATE_TIME_ANIMATION"}),{togglePlay:function(){this.lastFrame?this.updateTime(this.timeMin):this.updatePlaying(!this.playing)}})},j=M,x=n("6522"),N=n("2877");function B(t){this["$style"]=x["default"].locals||x["default"]}var U=Object(N["a"])(j,A,F,!1,B,null,null),$=U.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-content",{class:t.$style.appContent},[n("v-layout",{attrs:{"fill-height":"","d-flex":"",column:""}},[n("v-layout",{attrs:{"d-flex":""}},[~t.viewAvailable.indexOf("surface")?n("div",{class:t.$style.outline,staticStyle:{position:"relative"},attrs:{"fill-height":""}},[n("surface-view",{attrs:{layoutChange:t.change}})],1):t._e(),~t.viewAvailable.indexOf("sub-surface")?n("div",{class:t.$style.outline,staticStyle:{position:"relative"},attrs:{"fill-height":""}},[n("sub-surface-view",{attrs:{layoutChange:t.change}})],1):t._e()]),t.showWaterBalance?n("water-table-view",{staticStyle:{"max-height":"200px"}}):t._e()],1)],1)},k=[],Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.spread},[n("vtk-view",{attrs:{client:t.client,viewId:t.state.view,sizeChange:t.layoutChange}}),n("v-layout",{staticClass:"mx-4 my-2",class:t.$style.viewToolbar,attrs:{"align-center":""}},[n("v-select",{staticStyle:{"max-width":"300px"},attrs:{label:"Field",value:t.state.field,items:t.state.fields,"hide-details":""},on:{change:function(e){return t.updateColorBy({name:"subsurface",field:e})}}}),n("v-spacer"),n("v-slider",{staticClass:"mx-4 my-0",attrs:{label:"Layer "+(t.voi[5]-t.sliceIdx),value:t.sliceIdx,min:t.voi[4],max:t.voi[5]-1,step:"1","hide-details":""},on:{input:t.updateSliceIdx}}),n("v-btn",{attrs:{icon:""},on:{click:function(e){return t.colorRescale("subsurface")}}},[n("v-icon",[t._v(t._s(t.$vuetify.icons.rescaleColor))])],1),n("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({attrs:{icon:""}},r),[n("v-icon",[t._v(t._s(t.$vuetify.icons.colorMap))])],1)]}}])},[n("v-list",t._l(t.colorModes,(function(e,r){return n("v-list-tile",{key:r,attrs:{"data-value":e.value},on:{click:t.activateColorMode}},[n("v-list-tile-title",[n("v-icon",[t._v("\n              "+t._s(e.value==t.colorMode?t.$vuetify.icons.selected:t.$vuetify.icons.unselected)+"\n            ")]),t._v("\n            "+t._s(e.text)+"\n          ")],1)],1)})),1)],1),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({attrs:{icon:""},on:{click:function(e){return t.resetCamera(t.state.view)}}},r),[n("v-icon",[t._v(t._s(t.$vuetify.icons.resetCamera))])],1)]}}])},[n("span",[t._v("Reset camera")])])],1)],1)},K=[],z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{directives:[{name:"resize",rawName:"v-resize",value:t.onResize,expression:"onResize"}],class:t.$style.container,attrs:{fluid:"","fill-height":""}},[n("div",{class:[t.$style.renderer,"js-renderer"]})])},G=[],H=n("3033"),X={name:"VtkView",props:{viewId:{type:String,default:"-1"},client:{type:Object,default:null},animating:{type:Boolean,default:!1},sizeChange:{type:Number,default:0}},data:function(){return{connected:!1}},created:function(){this.view=H["b"].newInstance({rpcWheelEvent:"flow.zoom.wheel"}),this.view.setInteractiveRatio(1)},mounted:function(){this.view.setContainer(this.$el),this.view.resize(),this.connect()},methods:{connect:function(){if(this.client){var t=this.client.getConnection().getSession();this.view.setSession(t),this.view.setViewId(this.viewId),this.connected=!0,this.view.render()}},onResize:function(){this.view&&this.connected&&(this.view.resize(),this.view.render())},onSizeChange:function(){this.view.resize(),this.view.render()}},watch:{client:function(){this.connect()},viewId:function(t){this.connected&&(this.view.setViewId(t),this.view.render())},animating:function(t){t?this.view.getViewStream().startInteraction():this.view.getViewStream().endInteraction()},sizeChange:function(){this.view.getCanvasView().setSize(10,10),this.view.render(),this.onResize()}},beforeDestroy:function(){this.view.delete()}},J=X,q=n("493e");function Z(t){this["$style"]=q["default"].locals||q["default"]}var Q=Object(N["a"])(J,z,G,!1,Z,null,null),tt=Q.exports;function et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?et(n,!0).forEach((function(e){Object(L["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):et(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var rt={name:"SubSurfaceView",components:{VtkView:tt},props:{layoutChange:{type:Number,default:0}},computed:nt({},Object(i["c"])({client:"NETWORK_CLIENT",state:"FLOW_SUBSURFACE",voi:"FLOW_VOI",sliceIdx:"FLOW_SLICE_IDX",colorModes:"FLOW_COLOR_MODES"}),{colorMode:{get:function(){return this.$store.getters.FLOW_COLOR_MODE_SUBSURFACE},set:function(t){this.$store.commit("FLOW_COLOR_MODE_SUBSURFACE_SET",t),this.$store.dispatch("FLOW_UPDATE_COLOR_MODE",{name:"subsurface",value:t})}}}),methods:nt({},Object(i["b"])({resetCamera:"PVW_RESET_CAMERA",updateColorBy:"FLOW_UPDATE_COLOR",updateSliceIdx:"FLOW_UPDATE_SLICE",colorRescale:"FLOW_RESCALE_COLOR"}),{activateColorMode:function(t){this.colorMode=Number(t.currentTarget.dataset.value)}})},it=rt;function at(t){this["$style"]=x["default"].locals||x["default"]}var ot=Object(N["a"])(it,Y,K,!1,at,null,null),ct=ot.exports,st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.spread},[n("vtk-view",{attrs:{client:t.client,viewId:t.state.view,sizeChange:t.layoutChange}}),n("v-layout",{staticClass:"mx-4 my-2",class:t.$style.viewToolbar,attrs:{"align-center":""}},[n("v-select",{staticStyle:{"max-width":"300px"},attrs:{label:"Field",value:t.state.field,items:t.state.fields,"hide-details":""},on:{change:function(e){return t.updateColorBy({name:"surface",field:e})}}}),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(e){return t.colorRescale("surface")}}},[n("v-icon",[t._v(t._s(t.$vuetify.icons.rescaleColor))])],1),n("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({attrs:{icon:""}},r),[n("v-icon",[t._v(t._s(t.$vuetify.icons.colorMap))])],1)]}}])},[n("v-list",t._l(t.colorModes,(function(e,r){return n("v-list-tile",{key:r,attrs:{"data-value":e.value},on:{click:t.activateColorMode}},[n("v-list-tile-title",[n("v-icon",[t._v("\n              "+t._s(e.value==t.colorMode?t.$vuetify.icons.selected:t.$vuetify.icons.unselected)+"\n            ")]),t._v("\n            "+t._s(e.text)+"\n          ")],1)],1)})),1)],1),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({attrs:{icon:""},on:{click:function(e){return t.resetCamera(t.state.view)}}},r),[n("v-icon",[t._v(t._s(t.$vuetify.icons.resetCamera))])],1)]}}])},[n("span",[t._v("Reset camera")])])],1)],1)},lt=[];function ut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ut(n,!0).forEach((function(e){Object(L["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ut(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _t={name:"SurfaceView",components:{VtkView:tt},props:{layoutChange:{type:Number,default:0}},computed:ft({},Object(i["c"])({client:"NETWORK_CLIENT",state:"FLOW_SURFACE",colorModes:"FLOW_COLOR_MODES"}),{colorMode:{get:function(){return this.$store.getters.FLOW_COLOR_MODE_SURFACE},set:function(t){this.$store.commit("FLOW_COLOR_MODE_SURFACE_SET",t),this.$store.dispatch("FLOW_UPDATE_COLOR_MODE",{name:"surface",value:t})}}}),methods:ft({},Object(i["b"])({resetCamera:"PVW_RESET_CAMERA",updateColorBy:"FLOW_UPDATE_COLOR",colorRescale:"FLOW_RESCALE_COLOR"}),{activateColorMode:function(t){this.colorMode=Number(t.currentTarget.dataset.value)}})},vt=_t;function dt(t){this["$style"]=x["default"].locals||x["default"]}var pt=Object(N["a"])(vt,st,lt,!1,dt,null,null),ht=pt.exports,Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{directives:[{name:"resize",rawName:"v-resize",value:t.onResize,expression:"onResize"}]},[n("chart",{class:t.$style.thinBorder,style:{width:t.chartWidth+"px"},attrs:{idx:t.time,title:"Surface Storage",bins:t.surfaceStorage,normalize:"",height:t.chartHeight,width:t.chartWidth}}),n("chart",{class:t.$style.thinBorder,style:{width:t.chartWidth+"px"},attrs:{idx:t.time,title:"Subsurface Storage",bins:t.subSurfaceStorage,normalize:"",height:t.chartHeight,width:t.chartWidth}}),n("chart",{class:t.$style.thinBorder,style:{width:t.chartWidth+"px"},attrs:{idx:t.time,title:"Surface run-off",bins:t.surfaceRunOff,normalize:"",height:t.chartHeight,width:t.chartWidth}})],1)},Et=[],mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{staticStyle:{position:"relative"},attrs:{column:""}},[n("v-layout",{staticClass:"ma-2",attrs:{"justify-space-between":""}},[n("div",{staticClass:"subheading"},[t._v(t._s(t.title))]),n("div",{staticClass:"body-1"},[t._v(t._s(t.bins[t.idx]))])]),n("canvas",{staticStyle:{position:"absolute",left:"0",right:"0",bottom:"0"},attrs:{width:t.width,height:t.height}})],1)},bt=[],Tt=n("4ed4");function St(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0,r=t[0],i=0;i<t.length;i++)t[i]>n&&(n=t[i]),t[i]<r&&(r=t[i]);var a=n-r,o=r,c=1-e;return t.map((function(t){return c*(t-o)/a+e}))}var yt={name:"Chart",props:{title:{type:String,default:"Title"},idx:{type:Number,default:0},width:{type:Number,default:256},height:{type:Number,default:100},bins:{type:Array,default:[0,0]},normalize:{type:Boolean,default:!1}},mounted:function(){this.drawChart()},methods:{drawChart:function(){if(this.$el){var t=this.$el.querySelector("canvas").getContext("2d");if(t){var e=this.normalize?St(this.bins):this.bins;t.clearRect(0,0,this.width,this.height),Tt["a"].drawChart(t,[0,0,this.width,this.height],e,{lineWidth:1,strokeStyle:"#333",fillStyle:"rgba(0,0,0,0.25)"}),t.strokeStyle="#64B5F6",t.lineWidth=2,t.beginPath();var n=Math.round(this.idx/this.bins.length*this.width);t.moveTo(n,0),t.lineTo(n,this.height),t.stroke()}}}},watch:{idx:function(){this.$nextTick(this.drawChart)},bins:function(){this.$nextTick(this.drawChart)},width:function(){this.$nextTick(this.drawChart)},height:function(){this.$nextTick(this.drawChart)}}},wt=yt,Lt=Object(N["a"])(wt,mt,bt,!1,null,null,null),gt=Lt.exports;function Ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ct(n,!0).forEach((function(e){Object(L["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ct(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var At={name:"Table",components:{Chart:gt},data:function(){return{width:100,chartHeight:200}},computed:Wt({},Object(i["c"])({time:"FLOW_TIME",waterBalance:"FLOW_WATER_BALANCE"}),{chartWidth:function(){return Math.floor(this.width/3)},surfaceStorage:function(){return this.waterBalance&&this.waterBalance["surface storage"]||[0,1]},subSurfaceStorage:function(){return this.waterBalance&&this.waterBalance["subsurface storage"]||[0,1]},surfaceRunOff:function(){return this.waterBalance&&this.waterBalance["surface runoff"]||[0,1]}}),mounted:function(){this.onResize()},methods:{onResize:function(){if(this.$el&&this.$el.getBoundingClientRect){var t=this.$el.getBoundingClientRect(),e=t.width,n=t.height;this.width=e,this.chartHeight=Math.floor(n-35)}}}},Ft=At;function It(t){this["$style"]=x["default"].locals||x["default"]}var Rt=Object(N["a"])(Ft,Ot,Et,!1,It,null,null),Pt=Rt.exports;function Dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dt(n,!0).forEach((function(e){Object(L["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dt(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var jt={name:"Content",components:{SubSurfaceView:ct,SurfaceView:ht,WaterTableView:Pt},data:function(){return{change:0}},computed:Mt({},Object(i["c"])({client:"NETWORK_CLIENT",viewAvailable:"UI_VIEW_AVAILABLE"}),{showWaterBalance:function(){return~this.viewAvailable.indexOf("water-balance")}}),mounted:function(){var t=this;this.client&&Object(H["a"])(this.client.getConnection().getSession()),setTimeout((function(){t.change++}),1e3)},watch:{viewAvailable:function(){this.change++},client:function(){this.client&&Object(H["a"])(this.client.getConnection().getSession())}}},xt=jt,Nt=n("8169");function Bt(t){this["$style"]=Nt["default"].locals||Nt["default"]}var Ut=Object(N["a"])(xt,V,k,!1,Bt,null,null),$t=Ut.exports,Vt=[{key:"left",action:"FLOW_TIME_PREVIOUS"},{key:"right",action:"FLOW_TIME_NEXT"},{key:"up",action:"FLOW_LAYER_UP"},{key:"down",action:"FLOW_LAYER_DOWN"}];function kt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kt(n,!0).forEach((function(e){Object(L["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kt(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Kt=W["a"].extractURLParameters(),zt={name:"App",components:{FlowToolbar:$,FlowContent:$t},computed:Yt({},Object(i["c"])({client:"NETWORK_CLIENT"})),data:function(){return{}},watch:{client:function(){this.$store.dispatch("FLOW_INITIALIZE")}},methods:Yt({},Object(i["d"])({updateNetworkConfig:"NETWORK_CONFIG_SET"}),{},Object(i["b"])({connect:"NETWORK_CONNECT"})),mounted:function(){var t=this,e=Object.assign({},Kt,{application:"flow"});this.updateNetworkConfig(e),this.connect(),Vt.forEach((function(e){var n=e.key,r=e.action,i=e.event;C.a.bind(n,(function(e){e.preventDefault(),t.$store.dispatch(r)}),i)}))},beforeDestroy:function(){Vt.forEach((function(t){var e=t.key;C.a.unbind(e)}))}},Gt=zt,Ht=n("06f2");function Xt(t){this["$style"]=Ht["default"].locals||Ht["default"]}var Jt=Object(N["a"])(Gt,y,w,!1,Xt,null,null),qt=Jt.exports;n("d4b8"),n("bf40"),n("5363");r["default"].use(i["a"]),r["default"].use(o.a,{iconfont:"mdi",icons:{time:"mdi-clock-outline",colorMap:"mdi-invert-colors",surface:"mdi-image-filter-drama",subSurface:"mdi-layers",waterTable:"mdi-water",waterBalance:"mdi-scale-balance",localRescale:"mdi-ruler",globalRescale:"mdi-ruler-square",resetCamera:"mdi-crop-free",selected:"mdi-radiobox-marked",unselected:"mdi-radiobox-blank",rescaleColor:"mdi-ruler",scaling:"mdi-magnify",play:"mdi-play",pause:"mdi-pause",first:"mdi-skip-previous"}}),new r["default"]({store:S,render:function(t){return t(qt)}}).$mount("#app")},6522:function(t,e,n){"use strict";var r=n("0b43"),i=n.n(r);e["default"]=i.a},"7e0c":function(t,e,n){t.exports={container:"style_container_2ea0V",renderer:"style_renderer_3plXR"}},8169:function(t,e,n){"use strict";var r=n("9add"),i=n.n(r);e["default"]=i.a},"9add":function(t,e,n){t.exports={appContent:"style_appContent_3PZuq",outline:"style_outline_3zJ6-"}},cb6f:function(t,e,n){t.exports=n.p+"img/paraview-flow.f1c5d9f8.svg"}});
//# sourceMappingURL=app.e69fa102.js.map