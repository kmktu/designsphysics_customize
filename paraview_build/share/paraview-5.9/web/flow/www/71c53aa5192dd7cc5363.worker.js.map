{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/vtk.js/Sources/Interaction/Widgets/PiecewiseGaussianWidget/ComputeHistogram.worker.js","webpack:///./node_modules/webworker-promise/lib/tiny-emitter.js","webpack:///./node_modules/webworker-promise/lib/register.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","message","emit","array","min","max","numberOfBins","delta","histogram","Float32Array","fill","len","length","idx","Math","floor","Number","Promise","resolve","TransferableResponse","buffer","_createClass","defineProperties","target","props","descriptor","configurable","writable","Constructor","protoProps","staticProps","_classCallCheck","instance","TypeError","TinyEmitter","this","eventName","__listeners","_len","arguments","args","Array","_key","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","iterator","next","done","handler","apply","err","return","_this","once","off","on","push","filter","h","_get","receiver","Function","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","_typeof","obj","constructor","_toConsumableArray","arr","isArray","arr2","from","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","setPrototypeOf","__proto__","_defineProperty","MESSAGE_RESULT","MESSAGE_EVENT","RESULT_ERROR","RESULT_SUCCESS","DEFAULT_HANDLER","isPromise","then","catch","RegisterPromise","fn","handlers","sendPostMessage","postMessage","server","_TinyEmitter","WorkerRegister","_get2","_len2","_key2","concat","run","messageId","payload","handlerName","onSuccess","result","sendResult","transferable","onError","e","stack","runFn","Error","sendEvent","success","addEventListener","_ref","data","emitLocally"],"mappings":"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","file":"71c53aa5192dd7cc5363.worker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"5d86\");\n","import registerWebworker from 'webworker-promise/lib/register';\n\n/* eslint-disable */\n// prettier-ignore\nregisterWebworker(function (message, emit) {\n  var array = message.array;\n  var min = message.min;\n  var max = message.max;\n  var numberOfBins = message.numberOfBins;\n  var delta = max - min;\n  var histogram = new Float32Array(numberOfBins);\n  histogram.fill(0);\n  var len = array.length;\n  for (var i = 0; i < len; i++) {\n    var idx = Math.floor(\n      (numberOfBins - 1) * (Number(array[i]) - min) / delta\n    );\n    histogram[idx] += 1;\n  }\n\n  return Promise.resolve(\n    new registerWebworker.TransferableResponse(histogram, [histogram.buffer])\n  );\n});\n","'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar TinyEmitter = function () {\n  function TinyEmitter() {\n    _classCallCheck(this, TinyEmitter);\n\n    Object.defineProperty(this, '__listeners', {\n      value: {},\n      enumerable: false,\n      writable: false\n    });\n  }\n\n  _createClass(TinyEmitter, [{\n    key: 'emit',\n    value: function emit(eventName) {\n      if (!this.__listeners[eventName]) return this;\n\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.__listeners[eventName][Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var handler = _step.value;\n\n          handler.apply(undefined, args);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return this;\n    }\n  }, {\n    key: 'once',\n    value: function once(eventName, handler) {\n      var _this = this;\n\n      var once = function once() {\n        _this.off(eventName, once);\n        handler.apply(undefined, arguments);\n      };\n\n      return this.on(eventName, once);\n    }\n  }, {\n    key: 'on',\n    value: function on(eventName, handler) {\n      if (!this.__listeners[eventName]) this.__listeners[eventName] = [];\n\n      this.__listeners[eventName].push(handler);\n\n      return this;\n    }\n  }, {\n    key: 'off',\n    value: function off(eventName, handler) {\n      if (handler) this.__listeners[eventName] = this.__listeners[eventName].filter(function (h) {\n        return h !== handler;\n      });else this.__listeners[eventName] = [];\n\n      return this;\n    }\n  }]);\n\n  return TinyEmitter;\n}();\n\nmodule.exports = TinyEmitter;","'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar TinyEmitter = require('./tiny-emitter');\n\nvar MESSAGE_RESULT = 0;\nvar MESSAGE_EVENT = 1;\n\nvar RESULT_ERROR = 0;\nvar RESULT_SUCCESS = 1;\n\nvar DEFAULT_HANDLER = 'main';\n\nvar isPromise = function isPromise(o) {\n  return (typeof o === 'undefined' ? 'undefined' : _typeof(o)) === 'object' && typeof o.then === 'function' && typeof o.catch === 'function';\n};\n\nfunction RegisterPromise(fn) {\n  var handlers = _defineProperty({}, DEFAULT_HANDLER, fn);\n  var sendPostMessage = self.postMessage.bind(self);\n\n  var server = new (function (_TinyEmitter) {\n    _inherits(WorkerRegister, _TinyEmitter);\n\n    function WorkerRegister() {\n      _classCallCheck(this, WorkerRegister);\n\n      return _possibleConstructorReturn(this, (WorkerRegister.__proto__ || Object.getPrototypeOf(WorkerRegister)).apply(this, arguments));\n    }\n\n    _createClass(WorkerRegister, [{\n      key: 'emit',\n      value: function emit(eventName) {\n        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        sendPostMessage({ eventName: eventName, args: args });\n        return this;\n      }\n    }, {\n      key: 'emitLocally',\n      value: function emitLocally(eventName) {\n        var _get2;\n\n        for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          args[_key2 - 1] = arguments[_key2];\n        }\n\n        (_get2 = _get(WorkerRegister.prototype.__proto__ || Object.getPrototypeOf(WorkerRegister.prototype), 'emit', this)).call.apply(_get2, [this, eventName].concat(args));\n      }\n    }, {\n      key: 'operation',\n      value: function operation(name, handler) {\n        handlers[name] = handler;\n        return this;\n      }\n    }]);\n\n    return WorkerRegister;\n  }(TinyEmitter))();\n\n  var run = function run(messageId, payload, handlerName) {\n\n    var onSuccess = function onSuccess(result) {\n      if (result && result instanceof TransferableResponse) {\n        sendResult(messageId, RESULT_SUCCESS, result.payload, result.transferable);\n      } else {\n        sendResult(messageId, RESULT_SUCCESS, result);\n      }\n    };\n\n    var onError = function onError(e) {\n      sendResult(messageId, RESULT_ERROR, {\n        message: e.message,\n        stack: e.stack\n      });\n    };\n\n    try {\n      var result = runFn(messageId, payload, handlerName);\n      if (isPromise(result)) {\n        result.then(onSuccess).catch(onError);\n      } else {\n        onSuccess(result);\n      }\n    } catch (e) {\n      onError(e);\n    }\n  };\n\n  var runFn = function runFn(messageId, payload, handlerName) {\n    var handler = handlers[handlerName || DEFAULT_HANDLER];\n    if (!handler) throw new Error('Not found handler for this request');\n\n    return handler(payload, sendEvent.bind(null, messageId));\n  };\n\n  var sendResult = function sendResult(messageId, success, payload) {\n    var transferable = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n\n    sendPostMessage([MESSAGE_RESULT, messageId, success, payload], transferable);\n  };\n\n  var sendEvent = function sendEvent(messageId, eventName, payload) {\n    if (!eventName) throw new Error('eventName is required');\n\n    if (typeof eventName !== 'string') throw new Error('eventName should be string');\n\n    sendPostMessage([MESSAGE_EVENT, messageId, eventName, payload]);\n  };\n\n  self.addEventListener('message', function (_ref) {\n    var data = _ref.data;\n\n    if (Array.isArray(data)) {\n      run.apply(undefined, _toConsumableArray(data));\n    } else if (data && data.eventName) {\n      server.emitLocally.apply(server, [data.eventName].concat(_toConsumableArray(data.args)));\n    }\n  });\n\n  return server;\n}\n\nvar TransferableResponse = function TransferableResponse(payload, transferable) {\n  _classCallCheck(this, TransferableResponse);\n\n  this.payload = payload;\n  this.transferable = transferable;\n};\n\nmodule.exports = RegisterPromise;\nmodule.exports.TransferableResponse = TransferableResponse;"],"sourceRoot":""}